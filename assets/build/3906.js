"use strict";(globalThis.webpackChunkfewer_checkout_woocommerce=globalThis.webpackChunkfewer_checkout_woocommerce||[]).push([[3906],{3906:(e,t,n)=>{n.r(t),n.d(t,{ion_router:()=>k});var r=n(6472),o=n(6567);const i="root",s="forward",a=e=>"/"+e.filter((e=>e.length>0)).join("/"),l=(e,t,n)=>{let r=a(e);return t&&(r="#"+r),void 0!==n&&(r+="?"+n),r},u=e=>{let t,n=[""];if(null!=e){const r=e.indexOf("?");r>-1&&(t=e.substring(r+1),e=e.substring(0,r)),n=e.split("/").map((e=>e.trim())).filter((e=>e.length>0)),0===n.length&&(n=[""])}return{segments:n,queryString:t}},c=async(e,t,n,r,s=!1,a)=>{try{const l=d(e);if(r>=t.length||!l)return s;await new Promise((e=>(0,o.c)(l,e)));const u=t[r],h=await l.setRouteId(u.id,u.params,n,a);return h.changed&&(n=i,s=!0),s=await c(h.element,t,n,r+1,s,a),h.markVisible&&await h.markVisible(),s}catch(e){return console.error(e),!1}},h=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet",d=e=>{if(!e)return;if(e.matches(h))return e;const t=e.querySelector(h);return null!=t?t:void 0},m=(e,t)=>t.find((t=>((e,t)=>{const{from:n,to:r}=t;if(void 0===r)return!1;if(n.length>e.length)return!1;for(let t=0;t<n.length;t++){const r=n[t];if("*"===r)return!0;if(r!==e[t])return!1}return n.length===e.length})(e,t))),f=(e,t)=>{const n=Math.min(e.length,t.length);let r=0;for(let o=0;o<n;o++){const n=e[o],i=t[o];if(n.id.toLowerCase()!==i.id)break;if(n.params){const e=Object.keys(n.params);if(e.length===i.segments.length){const t=e.map((e=>`:${e}`));for(let e=0;e<t.length&&t[e].toLowerCase()===i.segments[e];e++)r++}}r++}return r},g=(e,t)=>{const n=new v(e);let r,o=!1;for(let e=0;e<t.length;e++){const i=t[e].segments;if(""===i[0])o=!0;else{for(const t of i){const o=n.next();if(":"===t[0]){if(""===o)return null;r=r||[],(r[e]||(r[e]={}))[t.slice(1)]=o}else if(o!==t)return null}o=!1}}return o&&o!==(""===n.next())?null:r?t.map(((e,t)=>({id:e.id,segments:e.segments,params:p(e.params,r[t]),beforeEnter:e.beforeEnter,beforeLeave:e.beforeLeave}))):t},p=(e,t)=>e||t?Object.assign(Object.assign({},e),t):void 0,w=(e,t)=>{let n=null,r=0;for(const o of t){const t=g(e,o);if(null!==t){const e=b(t);e>r&&(r=e,n=t)}}return n},b=e=>{let t=1,n=1;for(const r of e)for(const e of r.segments)":"===e[0]?t+=Math.pow(1,n):""!==e&&(t+=Math.pow(2,n)),n++;return t};class v{constructor(e){this.segments=e.slice()}next(){return this.segments.length>0?this.segments.shift():""}}const y=(e,t)=>t in e?e[t]:e.hasAttribute(t)?e.getAttribute(t):null,S=e=>Array.from(e.children).filter((e=>"ION-ROUTE-REDIRECT"===e.tagName)).map((e=>{const t=y(e,"to");return{from:u(y(e,"from")).segments,to:null==t?void 0:u(t)}})),R=e=>C(E(e)),E=e=>Array.from(e.children).filter((e=>"ION-ROUTE"===e.tagName&&e.component)).map((e=>{const t=y(e,"component");return{segments:u(y(e,"url")).segments,id:t.toLowerCase(),params:e.componentProps,beforeLeave:e.beforeLeave,beforeEnter:e.beforeEnter,children:E(e)}})),C=e=>{const t=[];for(const n of e)L([],t,n);return t},L=(e,t,n)=>{if(e=[...e,{id:n.id,segments:n.segments,params:n.params,beforeLeave:n.beforeLeave,beforeEnter:n.beforeEnter}],0!==n.children.length)for(const r of n.children)L(e,t,r);else t.push(e)},k=class{constructor(e){(0,r.r)(this,e),this.ionRouteWillChange=(0,r.d)(this,"ionRouteWillChange",7),this.ionRouteDidChange=(0,r.d)(this,"ionRouteDidChange",7),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}async componentWillLoad(){await(d(document.body)?Promise.resolve():new Promise((e=>{window.addEventListener("ionNavWillLoad",(()=>e()),{once:!0})})));const e=await this.runGuards(this.getSegments());if(!0!==e){if("object"==typeof e){const{redirect:t}=e,n=u(t);this.setSegments(n.segments,i,n.queryString),await this.writeNavStateRoot(n.segments,i)}}else await this.onRoutesChanged()}componentDidLoad(){window.addEventListener("ionRouteRedirectChanged",(0,o.q)(this.onRedirectChanged.bind(this),10)),window.addEventListener("ionRouteDataChanged",(0,o.q)(this.onRoutesChanged.bind(this),100))}async onPopState(){const e=this.historyDirection();let t=this.getSegments();const n=await this.runGuards(t);if(!0!==n){if("object"!=typeof n)return!1;t=u(n.redirect).segments}return this.writeNavStateRoot(t,e)}onBackButton(e){e.detail.register(0,(e=>{this.back(),e()}))}async canTransition(){const e=await this.runGuards();return!0===e||"object"==typeof e&&e.redirect}async push(e,t="forward",n){var r;if(e.startsWith(".")){const t=null!==(r=this.previousPath)&&void 0!==r?r:"/",n=new URL(e,`https://host/${t}`);e=n.pathname+n.search}let o=u(e);const i=await this.runGuards(o.segments);if(!0!==i){if("object"!=typeof i)return!1;o=u(i.redirect)}return this.setSegments(o.segments,t,o.queryString),this.writeNavStateRoot(o.segments,t,n)}back(){return window.history.back(),Promise.resolve(this.waitPromise)}async printDebug(){(e=>{console.group(`[ion-core] ROUTES[${e.length}]`);for(const t of e){const e=[];t.forEach((t=>e.push(...t.segments)));const n=t.map((e=>e.id));console.debug(`%c ${a(e)}`,"font-weight: bold; padding-left: 20px","=>\t",`(${n.join(", ")})`)}console.groupEnd()})(R(this.el)),(e=>{console.group(`[ion-core] REDIRECTS[${e.length}]`);for(const t of e)t.to&&console.debug("FROM: ",`$c ${a(t.from)}`,"font-weight: bold"," TO: ",`$c ${a(t.to.segments)}`,"font-weight: bold");console.groupEnd()})(S(this.el))}async navChanged(e){if(this.busy)return console.warn("[ion-router] router is busy, navChanged was cancelled"),!1;const{ids:t,outlet:n}=await(async e=>{const t=[];let n,r=window.document.body;for(;n=d(r);){const e=await n.getRouteId();if(!e)break;r=e.element,e.element=void 0,t.push(e)}return{ids:t,outlet:n}})(),r=((e,t)=>{let n=null,r=0;for(const o of t){const t=f(e,o);t>r&&(n=o,r=t)}return n?n.map(((t,n)=>{var r;return{id:t.id,segments:t.segments,params:p(t.params,null===(r=e[n])||void 0===r?void 0:r.params)}})):null})(t,R(this.el));if(!r)return console.warn("[ion-router] no matching URL for ",t.map((e=>e.id))),!1;const o=(e=>{const t=[];for(const n of e)for(const e of n.segments)if(":"===e[0]){const r=n.params&&n.params[e.slice(1)];if(!r)return null;t.push(r)}else""!==e&&t.push(e);return t})(r);return o?(this.setSegments(o,e),await this.safeWriteNavState(n,r,i,o,null,t.length),!0):(console.warn("[ion-router] router could not match path because some required param is missing"),!1)}onRedirectChanged(){const e=this.getSegments();e&&m(e,S(this.el))&&this.writeNavStateRoot(e,i)}onRoutesChanged(){return this.writeNavStateRoot(this.getSegments(),i)}historyDirection(){var e;const t=window;null===t.history.state&&(this.state++,t.history.replaceState(this.state,t.document.title,null===(e=t.document.location)||void 0===e?void 0:e.href));const n=t.history.state,r=this.lastState;return this.lastState=n,n>r||n>=r&&r>0?s:n<r?"back":i}async writeNavStateRoot(e,t,n){if(!e)return console.error("[ion-router] URL is not part of the routing set"),!1;const r=S(this.el),o=m(e,r);let i=null;if(o){const{segments:n,queryString:r}=o.to;this.setSegments(n,t,r),i=o.from,e=n}const s=R(this.el),a=w(e,s);return a?this.safeWriteNavState(document.body,a,t,e,i,0,n):(console.error("[ion-router] the path does not match any route"),!1)}async safeWriteNavState(e,t,n,r,o,i=0,s){const a=await this.lock();let l=!1;try{l=await this.writeNavState(e,t,n,r,o,i,s)}catch(e){console.error(e)}return a(),l}async lock(){const e=this.waitPromise;let t;return this.waitPromise=new Promise((e=>t=e)),void 0!==e&&await e,t}async runGuards(e=this.getSegments(),t){if(void 0===t&&(t=u(this.previousPath).segments),!e||!t)return!0;const n=R(this.el),r=w(t,n),o=r&&r[r.length-1].beforeLeave,i=!o||await o();if(!1===i||"object"==typeof i)return i;const s=w(e,n),a=s&&s[s.length-1].beforeEnter;return!a||a()}async writeNavState(e,t,n,r,o,i=0,s){if(this.busy)return console.warn("[ion-router] router is busy, transition was cancelled"),!1;this.busy=!0;const a=this.routeChangeEvent(r,o);a&&this.ionRouteWillChange.emit(a);const l=await c(e,t,n,i,!1,s);return this.busy=!1,a&&this.ionRouteDidChange.emit(a),l}setSegments(e,t,n){this.state++,((e,t,n,r,o,i,a)=>{const c=l([...u(t).segments,...r],n,a);o===s?e.pushState(i,"",c):e.replaceState(i,"",c)})(window.history,this.root,this.useHash,e,t,this.state,n)}getSegments(){return((e,t,n)=>{const r=u(t).segments,o=n?e.hash.slice(1):e.pathname;return((e,t)=>{if(e.length>t.length)return null;if(e.length<=1&&""===e[0])return t;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return null;return t.length===e.length?[""]:t.slice(e.length)})(r,u(o).segments)})(window.location,this.root,this.useHash)}routeChangeEvent(e,t){const n=this.previousPath,r=a(e);return this.previousPath=r,r===n?null:{from:n,redirectedFrom:t?a(t):null,to:r}}get el(){return(0,r.e)(this)}}},6567:(e,t,n)=>{n.d(t,{a:()=>c,b:()=>m,c:()=>i,d:()=>a,e:()=>b,f:()=>p,g:()=>d,h:()=>f,i:()=>u,j:()=>v,k:()=>C,l:()=>g,m:()=>E,n:()=>y,o:()=>s,p:()=>w,q:()=>L,r:()=>h,s:()=>k,t:()=>r,u:()=>R,v:()=>S});const r=(e,t=0)=>new Promise((n=>{o(e,t,n)})),o=(e,t=0,n)=>{let r,o;const i={passive:!0},s=()=>{r&&r()},a=t=>{void 0!==t&&e!==t.target||(s(),n(t))};return e&&(e.addEventListener("webkitTransitionEnd",a,i),e.addEventListener("transitionend",a,i),o=setTimeout(a,t+500),r=()=>{o&&(clearTimeout(o),o=void 0),e.removeEventListener("webkitTransitionEnd",a,i),e.removeEventListener("transitionend",a,i)}),s},i=(e,t)=>{e.componentOnReady?e.componentOnReady().then((e=>t(e))):m((()=>t(e)))},s=e=>void 0!==e.componentOnReady,a=(e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n},l=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],u=(e,t)=>{let n=l;return t&&t.length>0&&(n=n.filter((e=>!t.includes(e)))),a(e,n)},c=(e,t,n,r)=>{var o;if("undefined"!=typeof window){const i=window,s=null===(o=null==i?void 0:i.Ionic)||void 0===o?void 0:o.config;if(s){const o=s.get("_ael");if(o)return o(e,t,n,r);if(s._ael)return s._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},h=(e,t,n,r)=>{var o;if("undefined"!=typeof window){const i=window,s=null===(o=null==i?void 0:i.Ionic)||void 0===o?void 0:o.config;if(s){const o=s.get("_rel");if(o)return o(e,t,n,r);if(s._rel)return s._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},d=(e,t=e)=>e.shadowRoot||t,m=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),f=e=>!!e.shadowRoot&&!!e.attachShadow,g=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},p=e=>{if(e.focus(),e.classList.contains("ion-focusable")){const t=e.closest("ion-app");t&&t.setFocus([e])}},w=(e,t)=>{let n;const r=e.getAttribute("aria-labelledby"),o=e.id;let i=null!==r&&""!==r.trim()?r:t+"-lbl",s=null!==r&&""!==r.trim()?document.getElementById(r):g(e);return s?(null===r&&(s.id=i),n=s.textContent,s.setAttribute("aria-hidden","true")):""!==o.trim()&&(s=document.querySelector(`label[for="${o}"]`),s&&(""!==s.id?i=s.id:s.id=i=`${o}-lbl`,n=s.textContent)),{label:s,labelId:i,labelText:n}},b=(e,t,n,r,o)=>{if(e||f(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=o,e.name=n,e.value=r||""}},v=(e,t,n)=>Math.max(e,Math.min(t,n)),y=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},S=e=>e.timeStamp||Date.now(),R=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},E=e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},C=(e,t)=>{const n=e._original||e;return{_original:e,emit:L(n.emit.bind(n),t)}},L=(e,t=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}},k=(e,t)=>{if(null!=e||(e={}),null!=t||(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n){if(!(r in t))return!1;if(e[r]!==t[r])return!1}return!0}}}]);